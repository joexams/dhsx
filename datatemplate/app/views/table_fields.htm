<?php if (isset($fields) && $fields) { ?>
<table class="table table-striped table-hover">
<thead>
  <tr>
  	<th>字段</th>
    <th>字段注释</th>
    <th>输入框</th>
    <th>输入框宽度</th>
  	<th>默认值</th>
  	<th>固定值(格式id|name)</th>
  	<th>字段关联SQL(只支持id, name)</th>
    <th>字段提示</th>
    <th>关联表(表名|key|value)</th>
  	<th>必填</th>
  	<th>搜索</th>
  	<th>显示</th>
    <th>&nbsp;</th>
  </tr>
</thead>
<tbody>
<?php foreach ($fields as $key => $value): ?>
    <tr>
    	<td align="left">
    	<label class="control-label"><?php echo $value['Field'] ?></label>
		<input type="hidden" name="field[<?php echo $value['Field'] ?>][field_name]" value="<?php echo $value['Field'] ?>">
    	</td>
    	<td><input type="text" name="field[<?php echo $value['Field'] ?>][field_comment]" class="form-control" value="<?php echo $fields_saved ? $fields_saved[$value['Field']]['field_comment'] : $value['Comment']; ?>" style="width:150px;"></td>
        <td>
            <select name="field[<?php echo $value['Field'] ?>][input_type]" class="form-control">
                <option value="input" <?php echo $fields_saved && $fields_saved[$value['Field']]['input_type'] == 'input' ? 'selected' :'' ?>>文本框</option>
                <option value="select" <?php echo $fields_saved && $fields_saved[$value['Field']]['input_type'] == 'select' ? 'selected' :'' ?>>下拉框</option>
                <option value="textarea" <?php echo $fields_saved && $fields_saved[$value['Field']]['input_type'] == 'textarea' ? 'selected' :'' ?>>文本域</option>
                <option value="checkbox" <?php echo $fields_saved && $fields_saved[$value['Field']]['input_type'] == 'checkbox' ? 'selected' :'' ?>>复选框</option>
                <option value="radio" <?php echo $fields_saved && $fields_saved[$value['Field']]['input_type'] == 'radio' ? 'selected' :'' ?>>单选框</option>
            </select>
        </td>
      <td><input type="text" name="field[<?php echo $value['Field'] ?>][input_width]" class="form-control" value="<?php echo $fields_saved ? $fields_saved[$value['Field']]['input_width'] : $value['Default']; ?>" style="width:60px;"></td>
    	<td><input type="text" name="field[<?php echo $value['Field'] ?>][default_value]" class="form-control" value="<?php echo $fields_saved ? $fields_saved[$value['Field']]['default_value'] : $value['Default']; ?>" style="width:100px;"></td>
    	<td><textarea name="field[<?php echo $value['Field'] ?>][fixed_value]" class="form-control" id="" cols="10" rows="1"><?php echo $fields_saved ? $fields_saved[$value['Field']]['fixed_value'] : '' ?></textarea></td>
    	<td><textarea name="field[<?php echo $value['Field'] ?>][target_sql]" class="form-control" id="" cols="20" rows="1"><?php echo $fields_saved ? $fields_saved[$value['Field']]['target_sql'] : '' ?></textarea></td>
      <td><textarea name="field[<?php echo $value['Field'] ?>][tips]" class="form-control" id="" cols="5" rows="1"><?php echo $fields_saved ? $fields_saved[$value['Field']]['tips'] : '' ?></textarea></td>
      <td><textarea name="field[<?php echo $value['Field'] ?>][connect_table]" class="form-control" id="" cols="5" rows="1"><?php echo $fields_saved ? $fields_saved[$value['Field']]['connect_table'] : '' ?></textarea></td>
    	<td><label class="control-label"><input type="checkbox" name="field[<?php echo $value['Field'] ?>][required]" value="1" <?php echo $fields_saved && $fields_saved[$value['Field']]['required'] == 1 ? 'checked="checked"' : ((strtolower($value['Extra']) == 'auto_increment' || strtolower($value['Key']) == 'pri')?'checked="checked"':'') ?>></label></td>
    	<td><label class="control-label"><input type="checkbox" name="field[<?php echo $value['Field'] ?>][search]" value="1" <?php echo $fields_saved && $fields_saved[$value['Field']]['search'] == 1 ? 'checked="checked"' : '' ?>></label></td>
    	<td><label class="control-label"><input type="checkbox" name="field[<?php echo $value['Field'] ?>][display]" value="1" <?php echo $fields_saved && $fields_saved[$value['Field']]['display'] == 0 ? '' : 'checked="checked"' ?>></label></td>
      <td>&nbsp;</td>
	</tr>
<?php endforeach ?>
</tbody>
<tfoot>
    <tr>
      <td align="left"><strong style="line-height:3;">自定义SQL排序：</strong></td>
      <td colspan="10" align="left">
      <input type="text" name="orderby" class="form-control" value="<?php echo $tableInfo->orderby; ?>">
      <span class="danger">填写示例：id desc 或 id desc,id1 asc</span>
      </td>
      <td>&nbsp;</td>
    </tr>
</tfoot>
</table>
<?php } ?>